<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <style type="text/css">
    ul {
      padding: 0;
      margin: 0;
    }
    </style>
    <script type="text/javascript" src="sh_main.js"></script>
    <script type="text/javascript" src="sh_javascript.min.js"></script>
    <link type="text/css" rel="stylesheet" href="pipe.css" />
    <link type="text/css" rel="stylesheet" href="sh_vim-dark.css" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>node.js</title>
  </head>
  <body onload="sh_highlightDocument();">
    <div id="toc">
      <ol>
        <li><a href="#download">ダウンロード</a></li>
        <li><a href="changelog.html">変更履歴</a></li>
        <li><a href="#build">ビルド方法</a></li>
        <li><a href="#about">概要</a></li>
        <li><a href="#links">リンク</a></li>
        <li><a href="#contributing">貢献するには</a></li>
        <li><a href="api.html">ドキュメント</a></li>
      </ol>
    </div>
<!--
    <div id="toc">
      <ol>
        <li><a href="#download">Download</a></li>
        <li><a href="changelog.html">ChangeLog</a></li>
        <li><a href="#build">Build</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#links">Links</a></li>
        <li><a href="#contributing">Contributing</a></li>
        <li><a href="api.html">Documentation</a></li>
      </ol>
    </div>
-->
    <div id="content">
      <div id="copyright" style="font-size: 12px; color: #CCCCCC; bottom: 0pt; z-index: 255; background-color: #12151a; position: fixed; padding: 10px; margin: 0px; display: block; opacity: 0.95;">
      このページは <a href="http://nodejs.org/">nodejs.org</a> を
      <a href="http://groups.google.co.jp/group/nodejs_jp/">Node.js日本ユーザグループ</a>の
      <a href="http://groups.google.co.jp/group/nodejs_jp/web/signup"/>有志</a>が日本語訳したものです。
      画像、デザイン及びオリジナル文書(英文)の著作権は、オリジナルの作者に帰属します。
      訳文の著作権は、<a href="http://github.com/nodejsjp/nodejs.org_ja/commits/master"/>それぞれの訳者</a>に帰属します。
      </div>
 
      <!-- <h1><a href="http://nodejs.org/">Node</a></h1> -->
      <img id="logo" src="logo.png" alt="node.js"/>

      <p id="introduction">
        <a href="http://code.google.com/p/v8/">V8 JavaScript</a>
        を用いたイベント駆動I/Oの実現
      </p>
<!--
      <p id="introduction">
        Evented I/O for
        <a href="http://code.google.com/p/v8/">V8 JavaScript</a>.
      </p>
-->
      <p>
        全てのリクエストに対して"Hello World"と返答するNodeで書かれたWEBサーバの例です。
      </p>
<!--
      <p>
        An example of a web server written in Node which responds with
        "Hello World" for every request.
      </p>
-->

      <pre>
var http = require('http');
http.createServer(function (req, res) {
  res.writeHead(200, {'Content-Type': 'text/plain'});
  res.end('Hello World\n');
}).listen(8124, "127.0.0.1");
console.log('Server running at http://127.0.0.1:8124/');
</pre>

      <p>
        このサーバを走らせるには、コードを
        <code>example.js</code>というファイル名で保存し、下記のように
        <code>node</code>コマンドを実行してください。
      </p>
<!--
      <p>
        To run the server, put the code into a file
        <code>example.js</code> and execute it with the <code>node</code>
        program:
      </p>
-->
      <pre class="sh_none">
% node example.js
Server running at http://127.0.0.1:8124/</pre>

      <p>
        また、ポート番号8124をリッスンし、何でもエコーするシンプルなTCPサーバは以下のようになります。
      </p>
<!--
      <p>
        Here is an example of a simple TCP server which listens on port 8124
        and echoes whatever you send it:
      </p>
-->

      <pre>
var net = require('net');
net.createServer(function (socket) {
  socket.setEncoding("utf8");
  socket.write("Echo server\r\n");
  socket.on("data", function (data) {
    socket.write(data);
  });
  socket.on("end", function () {
    socket.end();
  });
}).listen(8124, "127.0.0.1");
</pre>

      <p>
        <a href="api.html">APIドキュメント</a>にもっと多くのサンプルがあります。
      </p>
<!--
      <p>
        See the <a href="api.html">API documentation</a> for more
        examples.
      </p>
-->

      <h2 id="download">ダウンロード</h2>
<!--
      <h2 id="download">Download</h2>
-->

      <p>
        <a href="http://github.com/ry/node/tree/master">gitリポジトリ</a>
      </p>
<!--
      <p>
        <a href="http://github.com/ry/node/tree/master">git repo</a>
      </p>
-->
      <p>
        2010.08.20
        <a href="http://nodejs.org/dist/node-v0.2.0.tar.gz">node-v0.2.0.tar.gz</a>
      </p>
<!--
      <p>
        2010.08.20
        <a href="http://nodejs.org/dist/node-v0.2.0.tar.gz">node-v0.2.0.tar.gz</a>
      </p>
-->

      <p>過去のバージョン: <a href="http://nodejs.org/dist">各バージョン</a>, <a href="http://nodejs.org/docs">ドキュメント</a></p>
<!--
      <p>Historical: <a href="http://nodejs.org/dist">versions</a>, <a href="http://nodejs.org/docs">docs</a></p>
-->

      <h2 id="build">ビルド方法</h2>
<!--
      <h2 id="build">Build</h2>
-->

      <p>
        Nodeは<b>Linux</b>や<b>Macintosh</b>、
        <b>Solaris</b>上でテストされています。<b>Windows/Cygwin</b>や
        <b>FreeBSD</b>、<b>OpenBSD</b>でも動きます。ビルドには、Python 2.4以降が必要になります。
        V8エンジン(Nodeがビルドします)は、IA-32とx64、ARMの各プロセッサのみをサポートしています。
        V8エンジンはNodeのディストリビューションに含まれています。
        TLSを使用するためにはOpenSSLが必要です。その他に依存関係はありません。
      </p>
<!--
      <p>
        Node is tested on <b>Linux</b>, <b>Macintosh</b>, and
        <b>Solaris</b>. It also runs on <b>Windows/Cygwin</b>,
        <b>FreeBSD</b>, and <b>OpenBSD</b>. The build system requires Python
        2.4 or better.  V8, on which Node is built, supports only IA-32,
        x64, and ARM processors. V8 is included in the Node distribution.
        To use TLS, OpenSSL is required.  There are no other dependencies.
      </p>
-->

      <pre class="sh_none">
./configure
make
make install</pre>

      <p>
        あとは、<a href="api.html">APIドキュメント</a>をご覧ください。
      </p>
<!--
      <p>
        Then have a look at the <a href="api.html">API documentation</a>.
      </p>
-->

      <p>テストを走らせるには次のコマンドを実行します。</p>
<!--
      <p>To run the tests</p>
-->

      <pre class="sh_none">make test</pre>

      <h2 id="about">概要</h2>
<!--
      <h2 id="about">About</h2>
-->

      <p>
        Nodeの目標は、簡単にスケーラブルなネットワークプログラムを作成する方法を提供することです。
        上記の"Hello World"WEBサーバの例では、多数のクライアントとの接続を同時に扱うことができます。
        NodeはOSに、(<code>epoll</code>や<code>kqueue</code>、
        <code class="sh_none">/dev/poll</code>や<code>select</code>を通じて)新しい接続が来たら知らせるように指示し、
        スリープ状態になります。そして新しい接続があると、コールバックを実行します。
        各接続にはほんの小さなヒープしか割り当てられません。
      </p>
<!--
      <p>
        Node's goal is to provide an easy way to build scalable network
        programs. In the "hello world" web server example above, many
        client connections can be handled concurrently.  Node tells the
        operating system (through <code>epoll</code>, <code>kqueue</code>,
        <code class="sh_none">/dev/poll</code>, or <code>select</code>)
        that it should be notified when a new connection is made, and 
        then it goes to sleep. If someone new connects, then it executes
        the callback.  Each connection is only a small heap allocation.
      </p>
-->

      <p>
        これは、OSのスレッドを用いる近頃のより一般的な同時実行モデルとは対照的です。
        この手法に比べると、スレッドベースのネットワークプログラムは非効率的であり、またとても使いづらいのです。
        <a href="http://www.kegel.com/c10k.html">ここ</a>や
        <a href="http://bulk.fefe.de/scalable-networking.pdf">ここ</a>をご覧ください。

        Nodeは、1接続ごとに2MBのスタックメモリを割り当てるスレッドベースのシステムに比べて、
        高負荷時にとても良いメモリ効率を実現します。
        <!-- TODO benchmark -->

        さらに、Nodeのユーザはプロセスのデッドロックの心配から開放されました。Nodeにはロックがないのです。
        Nodeには直接I/Oを実行する関数がほとんど無いため、プロセスは決してブロックされません。
        ブロックがないため、エキスパートではないプログラマであっても高速なシステムを開発することができるのです。
      </p>
<!--
      <p>
        This is in contrast to today's more common concurrency model where
        OS threads are employed. Thread-based networking is relatively 
        inefficient and very difficult to use.  See:
        <a href="http://www.kegel.com/c10k.html">this</a> and 
        <a href="http://bulk.fefe.de/scalable-networking.pdf">this.</a>

        Node will show much better memory efficiency under high-loads
-->
        <!-- TODO benchmark -->
<!--
        than systems which allocate 2mb thread stacks for each connection.

        Furthermore, users of Node are free from worries of dead-locking
        the process&mdash;there are no locks.  Almost no function in Node
        directly performs I/O, so the process never blocks. Because
        nothing blocks, less-than-expert programmers are able to develop
        fast systems.
      </p>
-->

      <p>
        Nodeは、Rubyの<a href="http://rubyeventmachine.com/">Event Machine</a>
        やPythonの<a href="http://twistedmatrix.com/">Twisted</a>の影響を受けており、
        よく似たデザインになっています。
        しかし、Nodeはイベントモデルをさらに推し進めています。
        すなわち、イベントループをライブラリとして提供するのではなく、言語自体に組み込まれた構成として提供しています。
        Node以外のシステムでは、イベントループを開始する際に必ずブロック呼び出しが存在します。
        それらのシステムでは、一般的にスクリプトの先頭でコールバックを通じて行う動作を定義し、
        スクリプトの最後で<code>EventMachine::run()</code>
        のようなブロック呼び出しを行ってサーバを開始させています。
        Nodeでは、そのような「イベントループの開始」呼び出しはありません。
        Nodeは入力されたスクリプトを実行し終えるとそのままイベントループに入ります。
        そして動作すべきコールバックがなくなるとイベントループから抜け出します。
        こういった挙動は、ブラウザ上のJavaSciprtとおんなじです。
        すなわち、イベントループはユーザからは隠匿されているのです。
      </p>
<!--
      <p>
        Node is similar in design to and influenced by systems like Ruby's <a
        href="http://rubyeventmachine.com/">Event Machine</a> or Python's <a
        href="http://twistedmatrix.com/">Twisted</a>.  Node takes the event
        model a bit further&mdash;it presents the event loop as a language
        construct instead of as a library. In other systems there is always
        a blocking call to start the event-loop.  Typically one defines
        behavior through callbacks at the beginning of a script and at the
        end starts a server through a blocking call like
        <code>EventMachine::run()</code>. In Node there is no such
        start-the-event-loop call.  Node simply enters the event loop after
        executing the input script. Node exits the event loop when there are
        no more callbacks to perform.  This behavior is like browser
        javascript&mdash;the event loop is hidden from the user.
      </p>
-->

      <p>
        HTTPはNodeにおける第一級のプロトコルです。NodeのHTTPライブラリは
        作者のWEBサーバ開発における経験を脱却させました。例えば、
        ほとんどのWEBフレームワークでは、データをストリーミングさせることができません。
        Nodeはこの問題をHTTP<a href="http://github.com/ry/http-parser/tree/master">パーサ</a>
        とAPIによって解決しようとしています。Nodeのイベント駆動な仕組みと連動させれば、
        WEBライブラリやフレームワークのとてもよい基盤になることでしょう。
      </p>
<!--
      <p>
        HTTP is a first class protocol in Node.  Node's HTTP library has
        grown out of the author's experiences developing and working with
        web servers. For example, streaming data through most web frameworks
        is impossible.  Node attempts to correct these problems in its HTTP
        <a href="http://github.com/ry/http-parser/tree/master">parser</a>
        and API. Coupled with Node's purely evented infrastructure, it makes
        a good foundation for web libraries or frameworks.
      </p>
-->

      <p>
        <i>
        でも、マルチプロセッサ環境ではどうなるんだ？
        マルチコアのコンピュータ上でプログラムをスケールさせるためには、スレッドを使う必要があるんじゃないのか？
        </i>
        マルチコアのコンピュータ上でスケールさせるのに必要なのは複数のプロセスであり、
        共有メモリを利用するスレッドではありません。
        スケーラブルなシステムの基本は高速なネットワーキングとブロックのないデザインであり、
        あとはメッセージパッシングがあれば事足ります。
        将来のバージョンで、Nodeは現在のデザインととてもよくフィットする形で子プロセスをforkする
        (<a href="http://www.whatwg.org/specs/web-workers/current-work/"> Web Workers APIを使って</a>)
        ことができるようになる予定です。
      </p>
<!--
      <p>
        <i>
        But what about multiple-processor concurrency? Aren't threads
        necessary to scale programs to multi-core computers?
        </i>
        Processes are necessary to scale to multi-core computers, not
        memory-sharing threads. The fundamentals of scalable systems are
        fast networking and non-blocking design&mdash;the rest is message
        passing.  In future versions, Node will be able to fork new
        processes (using the <a
        href="http://www.whatwg.org/specs/web-workers/current-work/"> Web
        Workers API </a>) which fits well into the current design.
      </p>
-->

      <p>
        これらもご覧ください:
         <ul>
          <li><a href="http://s3.amazonaws.com/four.livejournal/20091117/jsconf.pdf">スライド</a>(2009年 JSConf)</li>
          <li><a href="http://nodejs.org/jsconf2010.pdf">スライド</a>(2010年 JSConf)</li>
          <li><a href="http://www.yuiblog.com/blog/2010/05/20/video-dahl/">ビデオ</a>(2010年5月 Yahooにて)</li>
        </ul>
      </p>
<!--
      <p>
        See also:
        <ul class="original">
          <li><a href="http://s3.amazonaws.com/four.livejournal/20091117/jsconf.pdf">slides</a> from JSConf 2009</li>
          <li><a href="http://nodejs.org/jsconf2010.pdf">slides</a> from JSConf 2010</li>
          <li><a href="http://www.yuiblog.com/blog/2010/05/20/video-dahl/">video</a> from a talk at Yahoo in May 2010</li>
        </ul>
      </p>
-->


      <h2 id="links">リンク</h2>
<!--
      <h2 id="links">Links</h2>
-->
      <ul>

      <li>
        チャットルームの<b>デモ</b>が<a href="http://chat.nodejs.org">chat.nodejs.org</a>で動いています。
        そのソースコードは<a href="http://github.com/ry/node_chat/tree/master">http://github.com/ry/node_chat</a>です。
        チャットルームは安定してはいないので、たまにダウンしていることもあります。
      </li>
<!--
      <li>
        A chat room <b>demo</b> is running at <a
          href="http://chat.nodejs.org">chat.nodejs.org</a>. The
        source code for the chat room is at <a
          href="http://github.com/ry/node_chat/tree/master">http://github.com/ry/node_chat</a>.
        The chat room is not stable and might occasionally be down.
      </li>
-->

      <li>
        助言を求めたり議論したりするために、
        <a href="http://groups.google.com/group/nodejs">http://groups.google.com/group/nodejs</a>
        にあるメーリングリストに参加してください。
        <a href="mailto:nodejs+subscribe@googlegroups.com">nodejs+subscribe@googlegroups.com</a>
        にメールすることでも参加できます。リアルタイムで議論に参加したい場合には、
        irc.freenode.netの <code>#node.js</code>をチェックしてみてください。
      </li>
<!--
      <li>
        For help and discussion, subscribe to the mailing list at
        <a href="http://groups.google.com/group/nodejs">http://groups.google.com/group/nodejs</a>
        or send an email to <a href="mailto:nodejs+subscribe@googlegroups.com">nodejs+subscribe@googlegroups.com</a>.
        For real-time discussion, check irc.freenode.net <code>#node.js</code>.
      </li>
-->

      <li>
        <a href="http://nodejs.debuggable.com/">IRCログ</a>
      </li>
<!--
      <li>
        <a href="http://nodejs.debuggable.com/">IRC logs</a>
      </li>
-->

      <li>
        <a href="http://wiki.github.com/ry/node">Node.jsを利用している、またはNode.jsのためのプロジェクトやライブラリ</a>
      </li>
<!--
      <li>
        <a href="http://wiki.github.com/ry/node">Projects/libraries which are using/for Node.js</a>
      </li>
-->

      <li>
        <a href="http://buildbot.nodejs.org:8010/">Node.jsのビルドボット</a>
      </li>
<!--
      <li>
        <a href="http://buildbot.nodejs.org:8010/">Node.js buildbot</a>
      </li>
-->

      </ul>

      <h2 id="contributing">貢献するには</h2>
<!--
      <h2 id="contributing">Contributing</h2>
-->
      <p>
        パッチは歓迎します。パッチ提出のプロセスはシンプルです:
      </p>
<!--
      <p class="original">
        Patches are welcome. The process is simple:
      </p>
-->
      <pre class="sh_none">
git clone git://github.com/ry/node.git
cd node
(make your changes)
./configure --debug
make test-all #パッチをデバッグとリリースの両方のビルドでチェックしてください
git commit -m "パッチ内容のわかりやすい説明"
git format-patch HEAD^
</pre>
<!--
      <pre class="sh_none">
git clone git://github.com/ry/node.git
cd node
(make your changes)
./configure - -debug
make test-all # Check your patch with both debug and release builds
git commit -m "Good description of what your patch does"
git format-patch HEAD^
</pre>
-->

      <p>
        パッチがあなたの氏名と有効なメールアドレスを含んでいることを確認してください。
<!--
      </p>
      <p>
        Be sure the your patch includes your full name and your valid email
        address. Git can be configured to do this like so:
-->
<pre class="sh_none">
git config --global user.email "ry@tinyclouds.org"
git config --global user.name "Ryan Dahl"
</pre>
      </p>

      <p>
        あなたのコードが受け入れられるためには、
        <a href="http://nodejs.org/cla.html">貢献者使用許諾契約</a>
        にサインする必要があります。
      </p>
<!--
      <p>
        Before your code your code can be accepted you have to sign the
        <a href="http://nodejs.org/cla.html">contributor license agreement</a>.
      </p>
-->

      <p>
        パッチの存在を知らせる一番いい方法は、
       <a href="http://groups.google.com/group/nodejs">メーリングリスト</a>に
       <a href="http://gist.github.com/">gists</a>のURLや添付ファイルを添えて投稿することです。
      </p>
<!--
      <p>
        The best way for your patch to get noticed is to submit it to the
       <a href="http://groups.google.com/group/nodejs">mailing list</a> in form
       of a <a href="http://gist.github.com/">gists</a> or file attachement.
      </p>
-->

      <p>
        もし新しい機能が欲しい場合には、パッチ作成に取りかかる前にメーリングリストで質問してください。
      </p>
<!--
      <p>
        You should ask the mailing list if a new feature is wanted before
        working on a patch.
      </p>
-->

    </div>

    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ?
      "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-2570409-8");
/*
        var pageTracker = _gat._getTracker("UA-10874194-2");
*/
        pageTracker._trackPageview();
        } catch(err) {}</script>
  </body>
</html>
